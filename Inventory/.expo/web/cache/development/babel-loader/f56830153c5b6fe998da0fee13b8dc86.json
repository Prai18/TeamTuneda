{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/hiraidaichi/Desktop/ReactNative/Inventory/HomeScreen.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { Card, TextInput } from 'react-native-paper';\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/firestore';\nimport { Button } from 'react-native-elements';\nimport { Icon } from \"@expo/vector-icons/FontAwesome\";\nimport 'react-native-gesture-handler';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createStackNavigator } from '@react-navigation/stack';\nimport LoginForm from \"./LoginForm\";\nimport Single1 from \"./screens/Single1\";\nimport Single2 from \"./screens/Single2\";\nimport Stack1 from \"./screens/Stack1\";\nimport Stack2 from \"./screens/Stack2\";\nimport Tab1 from \"./screens/Tab1\";\nimport Tab2 from \"./screens/Tab2\";\nvar config = {\n  apiKey: \"AIzaSyCnLorva6IteJoYG_gJ97YSzI4RLA1wYB0\",\n  authDomain: \"reactnative-firebase-751e9.firebaseapp.com\",\n  databaseURL: \"https://reactnative-firebase-751e9.firebaseio.com\",\n  projectId: \"reactnative-firebase-751e9\",\n  storageBucket: \"reactnative-firebase-751e9.appspot.com\",\n  messagingSenderId: \"202410725465\"\n};\n\nif (!firebase.apps.length) {\n  firebase.initializeApp(config);\n}\n\nvar db = firebase.firestore();\nvar Stack = createStackNavigator();\n\nvar HomeScreen = function (_React$Component) {\n  _inherits(HomeScreen, _React$Component);\n\n  var _super = _createSuper(HomeScreen);\n\n  function HomeScreen() {\n    var _this;\n\n    _classCallCheck(this, HomeScreen);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      name: '山本太郎',\n      num: 47,\n      data: ''\n    };\n\n    _this.firestoreInput = function () {\n      var user = \"users\";\n      db.collection(user).add({\n        name: _this.state.name,\n        num: _this.state.num\n      }).then(function (docRef) {\n        console.log(\"Document written with ID: \", docRef.id);\n      }).catch(function (error) {\n        console.error(\"Error adding document: \", error);\n      });\n    };\n\n    _this.firestoreOutput = function () {\n      db.collection(\"users\").get().then(function (querySnapshot) {\n        var array = new Array();\n        querySnapshot.forEach(function (doc) {\n          var data = doc.data();\n          console.log(data);\n          array.push([doc.id, data.name, data.num]);\n        });\n        console.log(array);\n\n        _this.setState({\n          data: array[0][1] + \"さんは\" + array[0][2] * 2 + \"歳\"\n        });\n      }).catch(function (error) {\n        console.error(\"データを取得できません: \", error);\n      });\n    };\n\n    _this.changeName = function (text) {\n      _this.setState({\n        name: text\n      });\n    };\n\n    _this.changeAge = function (text) {\n      _this.setState({\n        num: text\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(HomeScreen, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(View, {\n        style: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 7\n        }\n      }, React.createElement(TextInput, {\n        placeholder: \"\\u540D\\u524D\",\n        style: {\n          height: 40,\n          borderColor: 'gray',\n          borderWidth: 1\n        },\n        onChangeText: this.changeName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 7\n        }\n      }), React.createElement(TextInput, {\n        placeholder: \"\\u500B\\u6570\",\n        style: {\n          height: 40,\n          borderColor: 'gray',\n          borderWidth: 1\n        },\n        onChangeText: this.changeAge,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 9\n        }\n      }), React.createElement(Button, {\n        icon: {\n          name: \"home\"\n        },\n        title: \"\\u30C7\\u30FC\\u30BF\\u306E\\u767B\\u9332\",\n        style: styles.button1,\n        type: \"clear\",\n        onPress: this.firestoreInput,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 9\n        }\n      }), React.createElement(Button, {\n        icon: {\n          name: \"check\"\n        },\n        title: \"\\u30C7\\u30FC\\u30BF\\u306E\\u547C\\u3073\\u51FA\\u3057\",\n        style: styles.button2,\n        type: \"clear\",\n        onPress: this.firestoreOutput,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 10\n        }\n      }), React.createElement(Text, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }\n      }, this.state.data));\n    }\n  }]);\n\n  return HomeScreen;\n}(React.Component);\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    backgroundColor: '#E3D7A3',\n    padding: 18\n  },\n  button1: {\n    margin: 10\n  },\n  button2: {\n    margin: 10\n  },\n  textDBData: {\n    justifyContent: 'center'\n  },\n  paragraph: {\n    margin: 24,\n    fontSize: 18,\n    fontWeight: 'bold',\n    textAlign: 'center'\n  }\n});\nexport default HomeScreen;","map":{"version":3,"sources":["/Users/hiraidaichi/Desktop/ReactNative/Inventory/HomeScreen.js"],"names":["React","Card","TextInput","firebase","Button","Icon","NavigationContainer","createStackNavigator","LoginForm","Single1","Single2","Stack1","Stack2","Tab1","Tab2","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","apps","length","initializeApp","db","firestore","Stack","HomeScreen","state","name","num","data","firestoreInput","user","collection","add","then","docRef","console","log","id","catch","error","firestoreOutput","get","querySnapshot","array","Array","forEach","doc","push","setState","changeName","text","changeAge","styles","container","height","borderColor","borderWidth","button1","button2","Component","StyleSheet","create","flex","justifyContent","backgroundColor","padding","margin","textDBData","paragraph","fontSize","fontWeight","textAlign"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { StyleSheet, Text, View ,Alert,SafeAreaView,TouchableOpacity} from 'react-native';\nimport { Card,TextInput } from 'react-native-paper';\nimport firebase from 'firebase/app';                   //ここ書き方修正import firebase from 'firebase/app';                   //ここ書き方修正\nimport 'firebase/auth';\nimport 'firebase/firestore';\nimport { Button } from 'react-native-elements';\nimport { Icon } from 'react-native-vector-icons/FontAwesome';\nimport 'react-native-gesture-handler';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createStackNavigator } from '@react-navigation/stack';\nimport LoginForm from './LoginForm';\n\n\n//import screens\nimport Single1 from './screens/Single1';\nimport Single2 from './screens/Single2';\nimport Stack1 from './screens/Stack1';\nimport Stack2 from './screens/Stack2';\nimport Tab1 from './screens/Tab1';\nimport Tab2 from './screens/Tab2';\n\n\n\nconst config = {\n  apiKey: \"AIzaSyCnLorva6IteJoYG_gJ97YSzI4RLA1wYB0\",\n  authDomain: \"reactnative-firebase-751e9.firebaseapp.com\",\n  databaseURL: \"https://reactnative-firebase-751e9.firebaseio.com\",\n  projectId: \"reactnative-firebase-751e9\",\n  storageBucket: \"reactnative-firebase-751e9.appspot.com\",\n  messagingSenderId: \"202410725465\"\n};\n\n\n// firebase.initializeApp(config);   //データベースの初期化\nif (!firebase.apps.length) {         //この条件式がないと更新のたびに複数回呼び出してエラーがでる\n    firebase.initializeApp(config);\n}\nconst db = firebase.firestore();  //Firestoreのオブジェクトの取得\n\n\n\nconst Stack = createStackNavigator();\n\nclass HomeScreen extends React.Component {\n\nstate = {\n  name: '山本太郎',\n  num: 47,\n  data:'',\n};\n\nfirestoreInput = () =>{                    //データベースへの入力\nconst user=\"users\";\n  db.collection(user).add({\n      name:this.state.name,\n      num: this.state.num,\n  })\n  .then(function(docRef) {\n      console.log(\"Document written with ID: \", docRef.id);\n  })\n  .catch(function(error) {\n      console.error(\"Error adding document: \", error);\n  });\n\n}\n\nfirestoreOutput = () =>{                    //データベースからのデータの取得(全件)\n  db.collection(\"users\").get().then((querySnapshot) => {\n    var array = new Array();\n      querySnapshot.forEach((doc) => {\n          var data = doc.data();\n          // console.log(typeof(data));\n          console.log(data);    //{name: \"ひらいだいち\", num: \"23\"}\n          array.push([doc.id, data.name, data.num]);   //連想配列？よくわからん\n          // array.push(data.name);\n          // array.push(data.num);\n      });\n      console.log(array);\n      this.setState({data:array[0][1]+\"さんは\"+array[0][2]*2+\"歳\"});\n  })\n  .catch(function(error) {\n      console.error(\"データを取得できません: \", error);\n  });\n\n}\n\n\nchangeName = (text) => {                //TextInputで名前の入力\n     this.setState({ name: text})\n  }\n\n\nchangeAge = (text) => {                 //TextInputで個数の入力\n  this.setState({num:text})\n}\n\n\n  render() {\n    return (\n      <View style={styles.container}>\n      <TextInput\n        placeholder=\"名前\"\n        style={{ height: 40, borderColor: 'gray', borderWidth: 1 }}\n        onChangeText={this.changeName}/>\n\n        <TextInput\n        placeholder=\"個数\"\n        style={{ height: 40, borderColor: 'gray', borderWidth: 1 }}\n        onChangeText={this.changeAge}/>\n\n        <Button\n         icon={{name:\"home\"}}\n         title=\"データの登録\"\n         style={styles.button1}\n         type=\"clear\"\n         onPress={this.firestoreInput}\n         />\n\n         <Button\n          icon={{name:\"check\"}}\n          title=\"データの呼び出し\"\n          style={styles.button2}\n          type=\"clear\"\n          onPress={this.firestoreOutput}\n          />\n\n          <Text>{this.state.data}</Text>\n\n      </View>\n    );\n}\n}\n\n\nconst styles = StyleSheet.create({\n  container: {\n    // alignItems:'center',   //iosのデザインがかなり崩れるから使わない\n    flex: 1,\n    justifyContent: 'center',\n    backgroundColor: '#E3D7A3',\n    padding: 18,\n  },\n  button1:{\n    margin:10,\n  },\n  button2:{\n    margin:10,\n  },\n  textDBData:{\n     justifyContent: 'center',\n  },\n  paragraph: {\n    margin: 24,\n    fontSize: 18,\n    fontWeight: 'bold',\n    textAlign: 'center',\n  }\n});\n\nexport default HomeScreen;\n"]},"metadata":{},"sourceType":"module"}